import{W as w,a as D,b as V,c as B,d as E,e as x,l as a}from"./monaco-editor-f913c445.js";import{q as O,d as M,U as b,V as g,y as h}from"./prettier-5e6fdd5f.js";import{D as T,p as j}from"./index-1e0489aa.js";import{u as q}from"./index-eba40255.js";import{y as z,n as F}from"./lodash-es-74a5df03.js";import{d as _,q as y,f as L,i as N,o as R,c as J,n as G}from"./@vue.runtime-core-0029b467.js";import{r as H,u as S}from"./@vue.reactivity-b2e38c7a.js";import{o as I,p as U}from"./@vue.shared-ccdbf9b9.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import"./@vue.runtime-dom-592c53ed.js";import"./element-plus-7426fe99.js";import"./@element-plus.icons-vue-c499527b.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-f8748455.js";import"./dayjs-20b85df8.js";import"./chardet-cfd7d38a.js";import"./async-validator-8a4f889d.js";import"./memoize-one-297ddbcb.js";import"./escape-html-f47942fe.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-4390772d.js";import"./@floating-ui.core-1d013f45.js";import"./@floating-ui.utils-1e4a7d10.js";import"./@vueuse.core-bf8dfe85.js";import"./@vueuse.shared-501e3e4b.js";import"./store-acb3382e.js";import"./mitt-b509fb6d.js";import"./axios-f6771985.js";import"./nprogress-5ff42f71.js";import"./pinia-6d4e9d4f.js";import"./vue-echarts-8be4a346.js";import"./resize-detector-a5205554.js";import"./echarts-eea5b079.js";import"./tslib-54e39b60.js";import"./zrender-ecf5ed03.js";import"./vue-router-6b15fa8a.js";import"./mockjs-597bdf6e.js";import"./vue-aac48648.js";self.MonacoEnvironment={getWorker(n,o){return o==="json"?new w:o==="css"||o==="scss"||o==="less"?new D:o==="html"||o==="handlebars"||o==="razor"?new V:o==="typescript"||o==="javascript"?new B:new E}};x.defineTheme("default",{base:"vs",inherit:!0,rules:[{background:"ffffff",token:""},{foreground:"6a737d",token:"comment"},{foreground:"6a737d",token:"punctuation.definition.comment"},{foreground:"6a737d",token:"string.comment"},{foreground:"005cc5",token:"constant"},{foreground:"005cc5",token:"entity.name.constant"},{foreground:"005cc5",token:"variable.other.constant"},{foreground:"005cc5",token:"variable.language"},{foreground:"6f42c1",token:"entity"},{foreground:"6f42c1",token:"entity.name"},{foreground:"24292e",token:"variable.parameter.function"},{foreground:"22863a",token:"entity.name.tag"},{foreground:"d73a49",token:"keyword"},{foreground:"d73a49",token:"storage"},{foreground:"d73a49",token:"storage.type"},{foreground:"24292e",token:"storage.modifier.package"},{foreground:"24292e",token:"storage.modifier.import"},{foreground:"24292e",token:"storage.type.java"},{foreground:"032f62",token:"string"},{foreground:"032f62",token:"punctuation.definition.string"},{foreground:"032f62",token:"string punctuation.section.embedded source"},{foreground:"005cc5",token:"support"},{foreground:"005cc5",token:"meta.property-name"},{foreground:"e36209",token:"variable"},{foreground:"24292e",token:"variable.other"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.broken"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.deprecated"},{foreground:"fafbfc",background:"b31d28",fontStyle:"italic underline",token:"invalid.illegal"},{foreground:"fafbfc",background:"d73a49",fontStyle:"italic underline",token:"carriage-return"},{foreground:"b31d28",fontStyle:"bold italic underline",token:"invalid.unimplemented"},{foreground:"b31d28",token:"message.error"},{foreground:"24292e",token:"string source"},{foreground:"005cc5",token:"string variable"},{foreground:"032f62",token:"source.regexp"},{foreground:"032f62",token:"string.regexp"},{foreground:"032f62",token:"string.regexp.character-class"},{foreground:"032f62",token:"string.regexp constant.character.escape"},{foreground:"032f62",token:"string.regexp source.ruby.embedded"},{foreground:"032f62",token:"string.regexp string.regexp.arbitrary-repitition"},{foreground:"22863a",fontStyle:"bold",token:"string.regexp constant.character.escape"},{foreground:"005cc5",token:"support.constant"},{foreground:"005cc5",token:"support.variable"},{foreground:"005cc5",token:"meta.module-reference"},{foreground:"735c0f",token:"markup.list"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading"},{foreground:"005cc5",fontStyle:"bold",token:"markup.heading entity.name"},{foreground:"22863a",token:"markup.quote"},{foreground:"24292e",fontStyle:"italic",token:"markup.italic"},{foreground:"24292e",fontStyle:"bold",token:"markup.bold"},{foreground:"005cc5",token:"markup.raw"},{foreground:"b31d28",background:"ffeef0",token:"markup.deleted"},{foreground:"b31d28",background:"ffeef0",token:"meta.diff.header.from-file"},{foreground:"b31d28",background:"ffeef0",token:"punctuation.definition.deleted"},{foreground:"22863a",background:"f0fff4",token:"markup.inserted"},{foreground:"22863a",background:"f0fff4",token:"meta.diff.header.to-file"},{foreground:"22863a",background:"f0fff4",token:"punctuation.definition.inserted"},{foreground:"e36209",background:"ffebda",token:"markup.changed"},{foreground:"e36209",background:"ffebda",token:"punctuation.definition.changed"},{foreground:"f6f8fa",background:"005cc5",token:"markup.ignored"},{foreground:"f6f8fa",background:"005cc5",token:"markup.untracked"},{foreground:"6f42c1",fontStyle:"bold",token:"meta.diff.range"},{foreground:"005cc5",token:"meta.diff.header"},{foreground:"005cc5",fontStyle:"bold",token:"meta.separator"},{foreground:"005cc5",token:"meta.output"},{foreground:"586069",token:"brackethighlighter.tag"},{foreground:"586069",token:"brackethighlighter.curly"},{foreground:"586069",token:"brackethighlighter.round"},{foreground:"586069",token:"brackethighlighter.square"},{foreground:"586069",token:"brackethighlighter.angle"},{foreground:"586069",token:"brackethighlighter.quote"},{foreground:"b31d28",token:"brackethighlighter.unmatched"},{foreground:"b31d28",token:"sublimelinter.mark.error"},{foreground:"e36209",token:"sublimelinter.mark.warning"},{foreground:"959da5",token:"sublimelinter.gutter-mark"},{foreground:"032f62",fontStyle:"underline",token:"constant.other.reference.link"},{foreground:"032f62",fontStyle:"underline",token:"string.other.link"}],colors:{"editor.foreground":"#24292e","editor.background":"#ffffff","editor.selectionBackground":"#c8c8fa","editor.inactiveSelectionBackground":"#fafbfc","editor.lineHighlightBackground":"#fafbfc","editorCursor.foreground":"#24292e","editorWhitespace.foreground":"#959da5","editorIndentGuide.background":"#959da5","editorIndentGuide.activeBackground":"#24292e","editor.selectionHighlightBorder":"#fafbfc"}});a.typescript.typescriptDefaults.setEagerModelSync(!0);a.typescript.typescriptDefaults.setCompilerOptions({target:a.typescript.ScriptTarget.ES2016,allowNonTsExtensions:!0,moduleResolution:a.typescript.ModuleResolutionKind.NodeJs,module:a.typescript.ModuleKind.CommonJS,experimentalDecorators:!0,noEmit:!0,allowJs:!1,typeRoots:["node_modules/@types"]});a.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0});const l={html:{parser:"html",plugins:[M,b,g,h]},typescript:{parser:"typescript",plugins:[b,h]},css:{parser:"css",plugins:[g]},scss:{parser:"scss",plugins:[g]}};function P(){function n(){for(const o in l)a.registerDocumentFormattingEditProvider(o,{async provideDocumentFormattingEdits(i){let t=i.getValue();try{t=await O.format(t,{parser:l[o].parser,plugins:l[o].plugins,semi:!0,printWidth:100,tabWidth:2,useTabs:!1,singleQuote:!0,trailingComma:"none"})}catch{}return[{range:i.getFullModelRange(),text:t}]}})}return{register:n}}function A({path:n,content:o}){const i=`file:///node_modules/${n}`,t=a.typescript.typescriptDefaults,d=t.getExtraLibs();if(!Object.keys(d).includes(i))try{t.addExtraLib(o,i)}catch(u){throw u}}function Q(){function n(){A({path:"globals.d.ts",content:T})}return{loadDeclares:n}}const X=_({name:"cl-editor-monaco"}),Y=_({...X,props:{modelValue:null,options:Object,height:{type:[String,Number],default:400},autofocus:{type:Boolean,default:!1},autoFormatCode:{type:Boolean,default:!0},language:{type:String,default:"json"},disabled:Boolean},emits:["update:modelValue","change"],setup(n,{expose:o,emit:i}){const t=n,d=i,{refs:p,setRefs:u}=q(),v=P(),C=Q(),m=H(t.height);let e=null;function f(){return e==null?void 0:e.getValue()}function s(r=""){z(r)?r=JSON.stringify(r):r=(r||"").toString(),r!=f()&&(e==null||e.setValue(r))}async function k(){var r;return await((r=e==null?void 0:e.getAction("editor.action.formatDocument"))==null?void 0:r.run()),f()}function W(){const r=F({theme:"default",language:t.language,minimap:{enabled:!0},automaticLayout:!0,scrollbar:{verticalScrollbarSize:6},lineNumbersMinChars:4,scrollBeyondLastLine:!1,readOnly:t.disabled,fontSize:14,tabSize:2},t.options);e=x.create(p.editor,r),e.onDidChangeModelContent(()=>{t.height=="auto"&&(m.value=Number(e==null?void 0:e.getContentHeight()));const c=f();d("update:modelValue",c),d("change",c)}),G(()=>{s(t.modelValue),t.autofocus&&(e==null||e.focus()),setTimeout(()=>{v.register(),t.autoFormatCode&&k()},300),C.loadDeclares()})}return y(()=>t.modelValue,s),y(()=>t.disabled,r=>{e==null||e.updateOptions({readOnly:r})}),L(()=>{W()}),N(()=>{e==null||e.dispose()}),o({editor:e,setContent:s,formatCode:k}),(r,c)=>(R(),J("div",{class:I(["cl-editor-monaco",{disabled:n.disabled}]),ref:S(u)("editor"),style:U({height:S(j)(m.value)})},null,6))}});const ze=K(Y,[["__scopeId","data-v-5930c13d"]]);export{ze as default};
