import{e as Y,g as W,a as X,c as $,b as T,d as z,m as M,f as B,h as F}from"./@floating-ui.utils-1e4a7d10.js";function S(a,s,f){let{reference:e,floating:n}=a;const d=B(s),i=X(s),g=z(i),x=F(s),l=d==="y",m=e.x+e.width/2-n.width/2,o=e.y+e.height/2-n.height/2,r=e[g]/2-n[g]/2;let t;switch(x){case"top":t={x:m,y:e.y-n.height};break;case"bottom":t={x:m,y:e.y+e.height};break;case"right":t={x:e.x+e.width,y:o};break;case"left":t={x:e.x-n.width,y:o};break;default:t={x:e.x,y:e.y}}switch(T(s)){case"start":t[i]-=r*(f&&l?-1:1);break;case"end":t[i]+=r*(f&&l?-1:1);break}return t}const I=async(a,s,f)=>{const{placement:e="bottom",strategy:n="absolute",middleware:d=[],platform:i}=f,g=d.filter(Boolean),x=await(i.isRTL==null?void 0:i.isRTL(s));let l=await i.getElementRects({reference:a,floating:s,strategy:n}),{x:m,y:o}=S(l,e,x),r=e,t={},c=0;for(let u=0;u<g.length;u++){const{name:h,fn:v}=g[u],{x:b,y:A,data:O,reset:y}=await v({x:m,y:o,initialPlacement:e,placement:r,strategy:n,middlewareData:t,rects:l,platform:i,elements:{reference:a,floating:s}});if(m=b??m,o=A??o,t={...t,[h]:{...t[h],...O}},y&&c<=50){c++,typeof y=="object"&&(y.placement&&(r=y.placement),y.rects&&(l=y.rects===!0?await i.getElementRects({reference:a,floating:s,strategy:n}):y.rects),{x:m,y:o}=S(l,r,x)),u=-1;continue}}return{x:m,y:o,placement:r,strategy:n,middlewareData:t}},J=a=>({name:"arrow",options:a,async fn(s){const{x:f,y:e,placement:n,rects:d,platform:i,elements:g,middlewareData:x}=s,{element:l,padding:m=0}=Y(a,s)||{};if(l==null)return{};const o=W(m),r={x:f,y:e},t=X(n),c=z(t),u=await i.getDimensions(l),h=t==="y",v=h?"top":"left",b=h?"bottom":"right",A=h?"clientHeight":"clientWidth",O=d.reference[c]+d.reference[t]-r[t]-d.floating[c],y=r[t]-d.reference[t],R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l));let p=R?R[A]:0;(!p||!await(i.isElement==null?void 0:i.isElement(R)))&&(p=g.floating[A]||d.floating[c]);const H=O/2-y/2,C=p/2-u[c]/2-1,E=M(o[v],C),V=M(o[b],C),P=E,j=p-u[c]-V,w=p/2-u[c]/2+H,k=$(P,w,j),D=!x.arrow&&T(n)!=null&&w!=k&&d.reference[c]/2-(w<P?E:V)-u[c]/2<0,L=D?w<P?w-P:w-j:0;return{[t]:r[t]+L,data:{[t]:k,centerOffset:w-k-L,...D&&{alignmentOffset:L}},reset:D}}});async function q(a,s){const{placement:f,platform:e,elements:n}=a,d=await(e.isRTL==null?void 0:e.isRTL(n.floating)),i=F(f),g=T(f),x=B(f)==="y",l=["left","top"].includes(i)?-1:1,m=d&&x?-1:1,o=Y(s,a);let{mainAxis:r,crossAxis:t,alignmentAxis:c}=typeof o=="number"?{mainAxis:o,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...o};return g&&typeof c=="number"&&(t=g==="end"?c*-1:c),x?{x:t*m,y:r*l}:{x:r*l,y:t*m}}const K=function(a){return a===void 0&&(a=0),{name:"offset",options:a,async fn(s){const{x:f,y:e}=s,n=await q(s,a);return{x:f+n.x,y:e+n.y,data:n}}}};export{J as a,I as c,K as o};
