import{a as X,r as Y}from"./resize-detector-a5205554.js";import{i as ee,t as te}from"./echarts-eea5b079.js";import{d as ne,A,t as y,g as re,q as T,v as F,f as ae,z as oe,h as I,n as ie}from"./@vue.runtime-core-0029b467.js";import{l as S,w as ue,u as se}from"./@vue.reactivity-b2e38c7a.js";var g=function(){return g=Object.assign||function(e){for(var r,n=1,l=arguments.length;n<l;n++)for(var c in r=arguments[n])Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);return e},g.apply(this,arguments)};var ce=["getWidth","getHeight","getDom","getOption","resize","dispatchAction","convertToPixel","convertFromPixel","containPixel","getDataURL","getConnectedDataURL","appendData","clear","isDisposed","dispose"];function le(e){return r=Object.create(null),ce.forEach(function(n){r[n]=function(l){return function(){for(var c=[],t=0;t<arguments.length;t++)c[t]=arguments[t];if(!e.value)throw new Error("ECharts is not initialized yet.");return e.value[l].apply(e.value,c)}}(n)}),r;var r}var fe={autoresize:[Boolean,Object]},pe=/^on[^a-z]/,ve=function(e){return pe.test(e)};function U(e,r){var n=se(e);return n&&typeof n=="object"&&"value"in n?n.value||r:n||r}var de="ecLoadingOptions",ge={loading:Boolean,loadingOptions:Object},_=null,W="x-vue-echarts",N=[],x=[];(function(e,r){if(e&&typeof document<"u"){var n,l=r.prepend===!0?"prepend":"append",c=r.singleTag===!0,t=typeof r.container=="string"?document.querySelector(r.container):document.getElementsByTagName("head")[0];if(c){var f=N.indexOf(t);f===-1&&(f=N.push(t)-1,x[f]={}),n=x[f]&&x[f][l]?x[f][l]:x[f][l]=j()}else n=j();e.charCodeAt(0)===65279&&(e=e.substring(1)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(document.createTextNode(e))}function j(){var O=document.createElement("style");if(O.setAttribute("type","text/css"),r.attributes)for(var E=Object.keys(r.attributes),v=0;v<E.length;v++)O.setAttribute(E[v],r.attributes[E[v]]);var w=l==="prepend"?"afterbegin":"beforeend";return t.insertAdjacentElement(w,O),O}})(`x-vue-echarts{display:block;width:100%;height:100%;min-width:0}x-vue-echarts>div{width:100%;height:100%}
`,{});var he=function(){if(_!=null)return _;if(typeof HTMLElement>"u"||typeof customElements>"u")return _=!1;try{new Function("tag",`class EChartsElement extends HTMLElement {
  __dispose = null;

  disconnectedCallback() {
    if (this.__dispose) {
      this.__dispose();
      this.__dispose = null;
    }
  }
}

if (customElements.get(tag) == null) {
  customElements.define(tag, EChartsElement);
}
`)(W)}catch{return _=!1}return _=!0}(),me="ecTheme",Oe="ecInitOptions",be="ecUpdateOptions",je=ne({name:"echarts",props:g(g({option:Object,theme:{type:[Object,String]},initOptions:Object,updateOptions:Object,group:String,manualUpdate:Boolean},fe),ge),emits:{},inheritAttrs:!1,setup:function(e,r){var n=r.attrs,l=S(),c=S(),t=S(),f=S(),j=A(me,null),O=A(Oe,null),E=A(be,null),v=ue(e),w=v.autoresize,Z=v.manualUpdate,$=v.loading,G=v.loadingOptions,J=y(function(){return f.value||e.option||null}),B=y(function(){return e.theme||U(j,{})}),D=y(function(){return e.initOptions||U(O,{})}),R=y(function(){return e.updateOptions||U(E,{})}),K=y(function(){return function(s){var a={};for(var u in s)ve(u)||(a[u]=s[u]);return a}(n)}),Q=re().proxy.$listeners;function C(s){if(c.value){var a=t.value=ee(c.value,B.value,D.value);e.group&&(a.group=e.group);var u=Q;u||(u={},Object.keys(n).filter(function(i){return i.indexOf("on")===0&&i.length>2}).forEach(function(i){var o=i.charAt(2).toLowerCase()+i.slice(3);o.substring(o.length-4)==="Once"&&(o="~".concat(o.substring(0,o.length-4))),u[o]=n[i]})),Object.keys(u).forEach(function(i){var o=u[i];if(o){var p=i.toLowerCase();p.charAt(0)==="~"&&(p=p.substring(1),o.__once__=!0);var h=a;if(p.indexOf("zr:")===0&&(h=a.getZr(),p=p.substring(3)),o.__once__){delete o.__once__;var z=o;o=function(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];z.apply(void 0,b),h.off(p,o)}}h.on(p,o)}}),w.value?ie(function(){a&&!a.isDisposed()&&a.resize(),d()}):d()}function d(){var i=s||J.value;i&&a.setOption(i,R.value)}}function k(){t.value&&(t.value.dispose(),t.value=void 0)}var L=null;T(Z,function(s){typeof L=="function"&&(L(),L=null),s||(L=T(function(){return e.option},function(a,u){a&&(t.value?t.value.setOption(a,g({notMerge:a!==u},R.value)):C())},{deep:!0}))},{immediate:!0}),T([B,D],function(){k(),C()},{deep:!0}),F(function(){e.group&&t.value&&(t.value.group=e.group)});var V=le(t);return function(s,a,u){var d=A(de,{}),i=y(function(){return g(g({},U(d,{})),u==null?void 0:u.value)});F(function(){var o=s.value;o&&(a.value?o.showLoading(i.value):o.hideLoading())})}(t,$,G),function(s,a,u){var d=null;T([u,s,a],function(i,o,p){var h=i[0],z=i[1],b=i[2];if(h&&z&&b){var m=b===!0?{}:b,M=m.throttle,P=M===void 0?100:M,H=m.onResize,q=function(){z.resize(),H==null||H()};d=P?te(q,P):q,X(h,d)}p(function(){h&&d&&Y(h,d)})})}(t,w,c),ae(function(){C()}),oe(function(){he&&l.value?l.value.__dispose=k:k()}),g({chart:t,root:l,inner:c,setOption:function(s,a){e.manualUpdate&&(f.value=s),t.value?t.value.setOption(s,a||{}):C(s)},nonEventAttrs:K},V)},render:function(){var e=g({},this.nonEventAttrs);return e.ref="root",e.class=e.class?["echarts"].concat(e.class):"echarts",I(W,e,[I("div",{ref:"inner"})])}});export{je as B};
