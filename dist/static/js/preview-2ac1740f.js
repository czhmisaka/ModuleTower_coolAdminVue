import{a as b}from"./@vueuse.core-bf8dfe85.js";import"./index-1e0489aa.js";import"./store-acb3382e.js";import{u as k}from"./index-eba40255.js";import{r as w,y as O}from"./lodash-es-74a5df03.js";import{a as N}from"./element-plus-7426fe99.js";import{d as v,X as a,o as $,c as j,G as B,e as i,K as l,O as u,H as E,n as T}from"./@vue.runtime-core-0029b467.js";import{r as d,u as U}from"./@vue.reactivity-b2e38c7a.js";import{O as q}from"./@vue.shared-ccdbf9b9.js";import"./@vueuse.shared-501e3e4b.js";import"./@vue.runtime-dom-592c53ed.js";import"./mitt-b509fb6d.js";import"./axios-f6771985.js";import"./nprogress-5ff42f71.js";import"./chardet-cfd7d38a.js";import"./pinia-6d4e9d4f.js";import"./monaco-editor-f913c445.js";import"./vue-echarts-8be4a346.js";import"./resize-detector-a5205554.js";import"./echarts-eea5b079.js";import"./tslib-54e39b60.js";import"./zrender-ecf5ed03.js";import"./vue-router-6b15fa8a.js";import"./mockjs-597bdf6e.js";import"./vue-aac48648.js";import"./dayjs-20b85df8.js";import"./@element-plus.icons-vue-c499527b.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-f8748455.js";import"./async-validator-8a4f889d.js";import"./memoize-one-297ddbcb.js";import"./escape-html-f47942fe.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-4390772d.js";import"./@floating-ui.core-1d013f45.js";import"./@floating-ui.utils-1e4a7d10.js";const D=v({name:"cl-editor-preview"}),Ct=v({...D,props:{modelValue:String,title:{type:String,default:"文本预览"},name:{type:String,required:!0},text:{type:String,default:"点击查看"},props:Object},setup(m,{expose:g}){const s=m,{refs:y,setRefs:C}=k(),{copy:V}=b(),n=d(!1),r=d("");async function f(e){var t,o;e||(e=s.modelValue),w(e)&&(r.value=e),O(e)&&(r.value=JSON.stringify(e,null,4)),n.value=!0,await T(),s.name=="monaco"&&((o=(t=y.editor)==null?void 0:t.formatCode)==null||o.call(t))}function c(){n.value=!1}function x(){V(r.value),N.success("复制成功")}return g({open:f,close:c}),(e,t)=>{const o=a("el-button"),S=a("cl-editor"),_=a("cl-dialog");return $(),j("div",null,[B(e.$slots,"default",{},()=>[i(o,{onClick:t[0]||(t[0]=p=>f())},{default:l(()=>[u(q(m.text),1)]),_:1})]),i(_,{width:"1000px",title:m.title,"append-to-body":"",modelValue:n.value,"onUpdate:modelValue":t[2]||(t[2]=p=>n.value=p)},{footer:l(()=>[i(o,{onClick:c},{default:l(()=>[u("关闭")]),_:1}),i(o,{type:"success",onClick:x},{default:l(()=>[u("复制")]),_:1})]),default:l(()=>[i(S,E({name:`cl-editor-${m.name}`,ref:U(C)("editor"),height:600,preview:""},s.props,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=p=>r.value=p)}),null,16,["name","modelValue"])]),_:1},8,["title","modelValue"])])}}});export{Ct as default};
