import{a as _}from"./@vueuse.core-bf8dfe85.js";import{r as f,y as h}from"./lodash-es-74a5df03.js";import{a as g}from"./element-plus-7426fe99.js";import{d as n,t as v,X as p,o as m,c as y,e,K as l,a as x,J as b,G as j,O as S}from"./@vue.runtime-core-0029b467.js";import{O as k}from"./@vue.shared-ccdbf9b9.js";import{u}from"./@vue.reactivity-b2e38c7a.js";import"./@vueuse.shared-501e3e4b.js";import"./@vue.runtime-dom-592c53ed.js";import"./@element-plus.icons-vue-c499527b.js";import"./@popperjs.core-c75af06c.js";import"./@ctrl.tinycolor-f8748455.js";import"./dayjs-20b85df8.js";import"./chardet-cfd7d38a.js";import"./async-validator-8a4f889d.js";import"./memoize-one-297ddbcb.js";import"./escape-html-f47942fe.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui.dom-4390772d.js";import"./@floating-ui.core-1d013f45.js";import"./@floating-ui.utils-1e4a7d10.js";const C={key:0,class:"cl-code-json__wrap"},N={class:"text"},B=n({name:"cl-code-json"}),Q=n({...B,props:{modelValue:[String,Object],popover:Boolean,height:{type:[Number,String],default:"100%"},maxHeight:{type:[Number,String],default:300}},setup(c){const t=c,{copy:d}=_(),r=v(()=>{const o=t.modelValue;return f(o)?o:h(o)?JSON.stringify(o,null,4):""}),i=n({setup(o,{slots:s}){function a(){d(r.value),g.success("复制成功")}return()=>e("div",{class:"cl-code-json"},[e("div",{class:"op"},[e(p("el-button"),{type:"success",size:"small",onClick:a},{default:()=>[S("copy")]}),s.op&&s.op()]),e(p("el-scrollbar"),{class:"scrollbar","max-height":t.maxHeight,height:t.height},{default:()=>[e("pre",null,[e("code",null,[r.value])])]})])}});return(o,s)=>{const a=p("el-popover");return c.popover?(m(),y("div",C,[e(a,{width:"auto",placement:"right","popper-class":"cl-code-json__popper"},{reference:l(()=>[x("span",N,k(r.value),1)]),default:l(()=>[e(u(i))]),_:1})])):(m(),b(u(i),{key:1},{op:l(()=>[j(o.$slots,"op")]),_:3}))}}});export{Q as default};
